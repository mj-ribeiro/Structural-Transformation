df %>%
ggplot(., aes(x =tfp,  y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) %>%
facet_grid('sectors')
df %>%
ggplot(., aes(x =tfp,  y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
facet_grid('sectors')
df %>%
ggplot(., aes(x =tfp,  y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
facet_grid('sectors', 2, 2)
df %>%
ggplot(., aes(x =tfp,  y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
facet_grid('sectors', rows = 2, cols = 2)
df %>%
ggplot(., aes(x =tfp,  y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
facet_grid('sectors', rows = 2, cols = 2)
df %>%
ggplot(., aes(x =tfp,  y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
facet_grid(vars(sectors), rows = 2, cols = 2)
df %>%
ggplot(., aes(x =tfp,  y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
facet_grid('sectors', rows = 2, cols = 2)
df %>%
ggplot(., aes(x =tfp,  y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
facet_grid('sectors', rows = 2, cols = 2)
df %>%
ggplot(., aes(x =tfp,  y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
facet_wrap('sectors', rows = 2, cols = 2)
df %>%
ggplot(., aes(x =tfp,  y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
facet_grid(~sectors, rows = 2, cols = 2)
df %>%
ggplot(aes(x = tfp, y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
df %>%
ggplot(aes(x = tfp, y = GDP)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
library(countrycode)
library(WDI)
warnings()
tt = WDIsearch('GDP per capita', field = 'name')
View(tt)
wbk = WDI(
indicator = c('6.0.GDPpc_constant'),
start = 2014,
end = 2014,
extra = TRUE) %>%
tibble() #%>%
View(wbk)
wbk = WDI(
indicator = c('NY.GDP.PCAP.PP.KD'),
start = 2014,
end = 2014,
extra = TRUE) %>%
tibble() #%>%
rename(gdp_pp = NY.GDP.PCAP.PP.KD) %>%
select(iso3c, gdp_pp, gdp, income) %>%
rename(code = iso3c)
wbk = WDI(
indicator = c('NY.GDP.PCAP.PP.KD'),
start = 2014,
end = 2014,
extra = TRUE) %>%
tibble() %>%
rename(gdp_pp = NY.GDP.PCAP.PP.KD) %>%
select(iso3c, gdp_pp, gdp, income) %>%
rename(code = iso3c)
wbk = WDI(
indicator = c('NY.GDP.PCAP.PP.KD'),
start = 2014,
end = 2014,
extra = TRUE) %>%
tibble() %>%
rename(gdp_pp = NY.GDP.PCAP.PP.KD) %>%
select(iso3c, gdp_pp, income) %>%
rename(code = iso3c)
df %>%
left_join(., wbk, by = 'code')
## dataset
df = readxl::read_xlsx('results_go_wgt.xlsx') %>%
left_join(., wbk, by = 'code')
df %>%
ggplot(aes(x = tfp, y = gdp_pp)) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
df %>%
ggplot(aes(x = tfp, y = log(gdp_pp) )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
df %>%
ggplot(aes(x = tfp, y = share_lab_m )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
df %>%
ggplot(aes(x = gdp_pp, y = GDP )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
df %>%
ggplot(aes(x = log(gdp_pp), y = GDP )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
df %>%
ggplot(aes(x = log(gdp_pp), y = GDP/share_lab_m )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
df %>%
ggplot(aes(x = tfp, y = GDP )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
View(tt)
### World Bank dataset
tt = WDIsearch('GDP per worker', field = 'name')
### World Bank dataset
tt = WDIsearch('GDP worker', field = 'name')
### World Bank dataset
tt = WDIsearch('worker', field = 'name')
### World Bank dataset
tt = WDIsearch('GDP worker', field = 'name')
### World Bank dataset
tt = WDIsearch('GDP work', field = 'name')
### World Bank dataset
tt = WDIsearch('GDP', field = 'name')
View(tt)
### World Bank dataset
tt = WDIsearch('GDP per person employed', field = 'name')
View(tt)
wbk = WDI(
indicator = c('NY.GDP.PCAP.PP.KD', 'SL.GDP.PCAP.EM.KD'),
start = 2014,
end = 2014,
extra = TRUE) %>%
tibble() %>%
rename(gdp_pp = NY.GDP.PCAP.PP.KD,
gdp_pw = SL.GDP.PCAP.EM.KD) %>%
select(iso3c, gdp_pp, income) %>%
rename(code = iso3c)
wbk = WDI(
indicator = c('NY.GDP.PCAP.PP.KD', 'SL.GDP.PCAP.EM.KD'),
start = 2014,
end = 2014,
extra = TRUE) %>%
tibble() %>%
rename(gdp_pp = NY.GDP.PCAP.PP.KD,
gdp_pw = SL.GDP.PCAP.EM.KD) %>%
select(iso3c, gdp_pp, gdp_pw, income) %>%
rename(code = iso3c)
View(wbk)
## dataset
df = readxl::read_xlsx('results_go_wgt.xlsx') %>%
left_join(., wbk, by = 'code')
df %>%
ggplot(aes(x = tfp, y = gdp_pw )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
df %>%
ggplot(aes(x = tfp, y = log(gdp_pw) )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
## dataset
df = readxl::read_xlsx('results_go_wgt2.xlsx') %>%
left_join(., wbk, by = 'code')
df %>%
ggplot(aes(x = tfp, y = log(gdp_pw) )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2)
df %>%
filter(code != 'CHN') %>%
ggplot(., aes(x =wgt_go_m,  y = wgt_go_d)) +
geom_point() +
geom_abline(intercept = 0, slope = 1, size = 0.5)
df %>%
filter(code != 'CHN') %>%
ggplot(., aes(x =share_lab_m,  y = share_lab_d)) +
geom_point() +
geom_abline(intercept = 0, slope = 1, size = 0.5) +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10)
# correlation
cor(df$share_lab_m, df$share_lab_d)
## desc stats tfp
df %>%
group_by(sectors) %>%
summarise(tfp_avg = mean(tfp),
tfp_min = min(tfp),
tfp_max = max(tfp),
tfp_sd = sd(tfp)
)
df %>%
ggplot(aes(x = tfp, y = log(gdp_pw) )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2) %>%
theme_minimal() +
my_theme
df %>%
ggplot(aes(x = tfp, y = log(gdp_pw) )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2) +
theme_minimal() +
my_theme
df %>%
ggplot(aes(x = tfp, y = log(gdp_pw) )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2) +
theme_minimal() +
my_theme +
ylab('Calibrated TFP') +
xlab('Log of GDP per person employment - World Bank')
df %>%
ggplot(aes(x = tfp, y = log(gdp_pw) )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2) +
theme_minimal() +
my_theme +
xlab('Calibrated TFP') +
ylab('Log of GDP per person employment - World Bank')
df %>%
ggplot(aes(x = tfp, y = log(gdp_pw) )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2) +
theme_minimal() +
my_theme +
xlab('Calibrated TFP') +
ylab('Log of GDP per person\n employment - World Bank')
df %>%
ggplot(aes(x = tfp, y = log(gdp_pw) )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2) +
theme_minimal() +
#my_theme +
xlab('Calibrated TFP') +
ylab('Log of GDP per person\n employment - World Bank')
df %>%
ggplot(aes(x = tfp, y = log(gdp_pw) )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
facet_wrap(~sectors, nrow = 2, ncol = 2) +
theme_light() +
#my_theme +
xlab('Calibrated TFP') +
ylab('Log of GDP per person\n employment - World Bank')
### World Bank dataset
tt = WDIsearch('GDP', field = 'name')
View(tt)
wbk = WDI(
indicator = c('NY.GDP.PCAP.PP.KD', 'SL.GDP.PCAP.EM.KD', 'NY.GDP.MKTP.KD'),
start = 2014,
end = 2014,
extra = TRUE) %>%
tibble() %>%
rename(gdp_pp = NY.GDP.PCAP.PP.KD,
gdp_pw = SL.GDP.PCAP.EM.KD,
gdp_data = NY.GDP.MKTP.KD) %>%
select(iso3c, gdp_pp, gdp_pw, income) %>%
rename(code = iso3c)
## dataset
df = readxl::read_xlsx('results_go_wgt2.xlsx') %>%
left_join(., wbk, by = 'code')
colnames(df)
wbk = WDI(
indicator = c('NY.GDP.PCAP.PP.KD', 'SL.GDP.PCAP.EM.KD', 'NY.GDP.MKTP.KD'),
start = 2014,
end = 2014,
extra = TRUE) %>%
tibble() %>%
rename(gdp_pp = NY.GDP.PCAP.PP.KD,
gdp_pw = SL.GDP.PCAP.EM.KD,
gdp_data = NY.GDP.MKTP.KD) %>%
select(iso3c, gdp_pp, gdp_pw, gdp_data, income) %>%
rename(code = iso3c)
## dataset
df = readxl::read_xlsx('results_go_wgt2.xlsx') %>%
left_join(., wbk, by = 'code')
colnames(df)
df %>%
mutate(
GDP = GDP/GDP[code == 'USA'],
gdp_data = gdp_data/gdp_data[code == 'USA']
) %>%
ggplot(aes(x = gdp_data, y = GDP )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('GDP - Model')
View(df)
df %>%
mutate(
GDP = GDP/GDP[code == 'USA'],
gdp_data = gdp_data/gdp_data[code == 'USA']
) %>%
filter(sectors == 'Agriculture') %>%
ggplot(aes(x = gdp_data, y = GDP )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('GDP - Model')
df %>%
mutate(
tfp_agg = share_lab_m*tfp
) %>%
filter(sectors == 'Agriculture') %>%
ggplot(aes(x = gdp_pw, y = tfp_agg )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('GDP - Model')
df %>%
mutate(
tfp_agg = share_lab_m*tfp,
gdp_pw = gdp_pw/gdp_pw[code == 'USA']
) %>%
group_by(code) %>%
mutate(tfp_agg = sum(tfp_agg)) %>%
ggplot(aes(x = gdp_pw, y = tfp_agg )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('GDP - Model')
df %>%
mutate(
tfp_agg = share_lab_m*tfp,
gdp_pw = gdp_pw/gdp_pw[code == 'USA']
) %>%
group_by(code) %>%
mutate(tfp_agg = sum(tfp_agg)) %>%
filter(sectors == 'Agriculture') %>%
ggplot(aes(x = gdp_pw, y = tfp_agg )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('GDP - Model')
df %>%
mutate(
tfp_agg = share_lab_m*tfp,
gdp_pw = gdp_pw/gdp_pw[code == 'USA']
) %>%
group_by(code) %>%
mutate(tfp_agg = sum(tfp_agg)) %>%
filter(sectors == 'Agriculture') %>%
ggplot(aes(x = gdp_pw, y = tfp_agg )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('Aggregate TFP') +
xlab('GDP per worker (USA = 1)')
df %>%
filter(code == 'CYP')
df %>%
mutate(
tfp_agg = share_lab_m*tfp,
gdp_pw = gdp_pw/gdp_pw[code == 'USA']
) %>%
filter(code != 'CYP') %>%
group_by(code) %>%
mutate(tfp_agg = sum(tfp_agg)) %>%
filter(sectors == 'Agriculture') %>%
ggplot(aes(x = gdp_pw, y = tfp_agg )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('Aggregate TFP') +
xlab('GDP per worker (USA = 1)')
df %>%
mutate(
tfp_agg = share_lab_m*tfp,
gdp_pw = gdp_pw/gdp_pw[code == 'USA']
) %>%
filter(code != 'CYP') %>%
group_by(code) %>%
mutate(tfp_agg = sum(tfp_agg)) %>%
filter(sectors == 'Agriculture') %>%
ggplot(aes(x = gdp_pw, y = tfp_agg )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('Aggregate TFP') +
xlab('GDP per worker (USA = 1)') +
my_theme
## dataset
df = readxl::read_xlsx('results_go_wgt2.xlsx') %>%
left_join(., wbk, by = 'code')
####
df %>%
filter(code != 'CYP') %>%
ggplot(aes(x = share_go_m, y = share_go_d )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('Aggregate TFP') +
xlab('GDP per worker (USA = 1)') +
my_theme
####
df %>%
filter(code != 'CYP') %>%
ggplot(aes(x = share_ii_m, y = share_ii_d )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('Aggregate TFP') +
xlab('GDP per worker (USA = 1)') +
my_theme
df %>%
filter(code == 'CHN')
####
df %>%
filter(code != 'CYP') %>%
group_by(code) %>%
mutate(s_ii = sum(share_ii_m),
share_ii_m = share_ii_m/s_ii) %>%
ggplot(aes(x = share_ii_m, y = share_ii_d )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('Aggregate TFP') +
xlab('GDP per worker (USA = 1)') +
my_theme
####
df %>%
filter(code != 'CYP') %>%
group_by(code) %>%
mutate(s_ii = sum(share_ii_m),
share_ii_m = share_ii_m/s_ii) %>%
ggplot(aes(x = share_ii_m, y = share_ii_d )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('Share of intermediate inputs - Data') +
xlab('Share of intermediate inputs - Model') +
my_theme
####
df %>%
filter(code != 'CYP') %>%
group_by(code) %>%
mutate(s_ii = sum(share_ii_m),
share_ii_m = share_ii_m/s_ii) %>%
ungroup() %>%
ggplot(aes(x = share_ii_m, y = share_ii_d )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_smooth(method = 'lm', se = F) +
ylab('Share of intermediate inputs - Data') +
xlab('Share of intermediate inputs - Model') +
my_theme
####
df %>%
filter(code != 'CYP') %>%
group_by(code) %>%
mutate(s_ii = sum(share_ii_m),
share_ii_m = share_ii_m/s_ii) %>%
ungroup() %>%
ggplot(aes(x = share_ii_m, y = share_ii_d )) +
geom_point() +
geom_text_repel(aes(label = code), size = 2.5, max.overlaps = 10) +
geom_abline(intercept = 0, slope = 1, size = 0.5) +
ylab('Share of intermediate inputs - Data') +
xlab('Share of intermediate inputs - Model') +
my_theme
